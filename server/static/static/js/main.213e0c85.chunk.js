(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),a=r.n(c),s=r(27),i=r.n(s),o=(r(35),r(29)),u=r(6),j=r.n(u),l=r(8),b=r(9),d=r(11),O=r(12),p=r(10),x=function(e){return Object(n.jsx)("form",{children:Object(n.jsx)(O.a.Row,{className:"justify-content-md-center",children:Object(n.jsx)(p.a,{md:"auto",children:Object(n.jsxs)(O.a.Group,{children:[Object(n.jsx)(O.a.Label,{children:"Movies"}),Object(n.jsx)(O.a.Control,{as:"select",onChange:e.newMovieSelected,children:Object.keys(e.movies).map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))})]})})})})},f=r(28),h=function(e){var t=Object.keys(e.movieDetails),r=e.movieDetails;return Object(n.jsx)("div",{children:Object(n.jsx)(f.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colSpan:2,children:Object(n.jsx)("b",{children:"Price"})})}),t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.toUpperCase()}),Object(n.jsxs)("td",{children:["$",r[e].Price]})]},t)}))]})})})},v=r(16),m=function(e){return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(v.a,{className:"justify-content-md-center",children:Object(n.jsx)("p",{style:{color:"red"},children:e.errorMessage})}),Object(n.jsxs)(v.a,{className:"justify-content-md-center",children:[1===e.errorCode||2===e.errorCode?Object(n.jsx)("button",{style:{color:"purple"},onClick:e.tryAgain,className:"close","aria-label":"Close",children:"Try Again"}):null,Object(n.jsx)("button",{onClick:e.clearError,className:"close","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",style:{color:"red",margin:"0 0 0 3em "},children:"\xd7"})})]})]})},g=r(17),k=r.n(g),y={getMovieList:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/movies");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMovieDetails:function(){var e=Object(l.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("/api/movie",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};r(57);var w=function(){var e=Object(c.useState)({}),t=Object(b.a)(e,2),r=t[0],s=t[1],i=Object(c.useState)({}),u=Object(b.a)(i,2),O=u[0],p=u[1],f=Object(c.useState)(""),v=Object(b.a)(f,2),g=v[0],k=v[1],w=Object(c.useState)(""),C=Object(b.a)(w,2),M=C[0],S=C[1],N=Object(c.useState)(0),D=Object(b.a)(N,2),L=D[0],P=D[1],A=Object(c.useState)(!0),E=Object(b.a)(A,2),F=E[0],T=E[1],B=Object(c.useState)(!0),G=Object(b.a)(B,2),I=G[0],J=G[1];Object(c.useEffect)((function(){R()}),[]),Object(c.useEffect)((function(){U()}),[g]);var R=function(){var e=Object(l.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},r=0;case 2:if(!(r<3)){e.next=11;break}return e.next=5,y.getMovieList();case 5:if(2===(t=e.sent).code){e.next=8;break}return e.abrupt("break",11);case 8:r++,e.next=2;break;case 11:2===t.code?(P(1),S("Could not retrive Movies")):(P(0),S(""),s(t.movies),k(Object.keys(t.movies)[0])),T(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!0),n=0;case 2:if(!(n<3)){e.next=11;break}return e.next=5,y.getMovieDetails(Object(o.a)({},r[g]));case 5:if(2===(t=e.sent).code){e.next=8;break}return e.abrupt("break",11);case 8:n++,e.next=2;break;case 11:2===t.code?(P(2),S("Could not retrive price")):(S(""),p(t.cinemas)),J(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.target.value),k(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==L){e.next=5;break}return e.next=3,R();case 3:e.next=8;break;case 5:if(2!==L){e.next=8;break}return e.next=8,U();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(d.a,{children:M?Object(n.jsx)(m,{errorMessage:M,errorCode:L,clearError:function(e){S("")},tryAgain:q}):F?Object(n.jsx)("p",{children:"Loading"}):Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)("h1",{style:{margin:"50px"},children:"Compare Movie Price"})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(x,{newMovieSelected:$,movies:r})}),Object(n.jsx)(d.a,{children:I?Object(n.jsx)("p",{children:"Getting Price"}):Object(n.jsx)(h,{movieDetails:O})})]})})})})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,59)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),C()}},[[58,1,2]]]);
//# sourceMappingURL=main.213e0c85.chunk.js.map